<apex:page docType="html-5.0" id="pg"  controller="EventCalendarController" action="{!pageLoad}"   standardStylesheets="true" lightningStylesheets="true" showHeader="false" sidebar="false" cache="false" title="FLAME University - The Pioneers of Liberal Education in India" >       
   <html>
    <apex:slds />
   <c:Flame_HeadResource />         
    <head>
    <meta charset='utf-8' />
  
    <link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.3.0/fullcalendar.min.css" rel="stylesheet"/>
    <link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.3.0/fullcalendar.print.css" rel="stylesheet"  media="print" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.3.0/fullcalendar.min.js"></script> 
  
    </head>
 
    <body>
        <apex:form id="pb1" html-autocomplete="off">
            <!-- Left Panel -->
           <aside id="left-panel" class="left-panel">
                <c:Flame_SideMenuBar />
            </aside> 
            <!-- Left Panel -->            
            <!-- Right Panel -->            
            <div id="right-panel" class="right-panel">                
                <!-- Header-->
                <c:Flame_HeaderBar /> 
                <!-- Header-->                                
                <!--Main container -->  
                <div class="content mt-3">                                     
                    <div class="col-lg-3">
                        <div class="assist-side-menu">                             
                                                     
                        </div> 
                    </div>
                    <div class="col-lg-12">                     
                        
                    <div class="services-content" style="padding-bottom:75px;">
                          
                    <div class="sub-heading" ><h6>Event Calendar </h6></div> 
                    <br></br>
                    <div align="right"  >
                    <apex:commandButton value=" View All Events" action="{!viewallevents}" />
                    &nbsp;
                    <apex:commandButton value=" Add New Event" action="{!subnewEvents}" />
                    </div>       
                      <br></br>                     
                       <div id="calendar"></div>
                        <div id="eventContent" title="Event Details" style="display:none;">
                       <p><strong><a id="eventLink" href="" target="_blank">Read More</a></strong></p>
                        </div>
                      
                      
                              </div></div></div></div>
                              
                 
                        <script type="text/javascript">
                       // alert('{!events}');    
                        $(document).ready(function(){
                        var calendar = $("#calendar").fullCalendar({  
                        header: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'month,agendaWeek,agendaDay,listWeek'
                        },
                        navLinks: true, 
                        editable: true,
                        eventLimit: true,
                        droppable: true, 
                        
                        events:[
                        
                        <apex:repeat value="{!events}" var="e">
                        {
                        
                        id:"{!e.eventId}",
                        title: "{!e.eventTitle}",
                        start: '{!e.eventStart}',
                        url: '{!e.url}'
                        },
                        </apex:repeat>
                        ],
                        
                        
                        
                        });
                        
                        });
                        </script>            
          
                              
        </apex:form>        
        <c:Flame_FooterResource />
    </body>    
</html> 
</apex:page>