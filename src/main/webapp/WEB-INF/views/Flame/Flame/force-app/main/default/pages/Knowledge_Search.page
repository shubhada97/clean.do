<apex:page docType="html-5.0" controller="KnowledgeSearchController" lightningStylesheets="true"  standardStylesheets="false" showHeader="false" sidebar="false" cache="false" title="FLAME University - The Pioneers of Liberal Education in India" >
    <apex:includeScript value="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" />

<apex:slds />
<c:Flame_HeadResource />
<style>
        .pay-side-menu .btn-primary {
        color: #fff;
        background-color: #084d89;
        border-color: #084d89;
        width: 100%;
        text-align: left;
        margin-bottom: 20px;
        font-size: 14px;
        padding:10px;
        }
        .pay-content-area {
        background-color: #fff;
        //padding: 20px;
        //border: 1px solid #eae9e9;
        font-size: 14px;
        float: left;
        width: 100%;
        }
        .pay-content-area .table td, .pay-content-area .table th {
        padding: .6rem;
        }
        .pay-content-area .heading {
        background-color: #084d89;
        padding: 8px 10px;
        margin-bottom: 20px;
        color: #fff;
        font-size: 16px;
        }
        .btn-outline-primary {
        border-color: #084d89;
        color: #084d89;
        }
        .btn-outline-primary:hover {
        background-color: #084d89;
        border-color: #084d89;
        }
        .filter-options {
        background-color: #f7f7f7;
        margin-bottom: 40px;
        margin-top: 30px;
        border-bottom: 1px solid #dee2e6;
        }
        .filter-options table {
        margin-bottom:0;
        }
        .dateFormat{
        display:none;
        }
        .loadingBG{
        position: fixed;
        top: 0; 
        left: 0;
        right: 0; 
        bottom: 0; 
        opacity: 0.5; 
        z-index: 1000; 
        background-color:#084d89;
        }
       
       
        
      
     
</style>

<!-- Enter key on VF-Page -->            
   <script>
   function noenter() 
   {
   
      if (window.event && window.event.keyCode == 13)
      {
         var ele=document.getElementById('{!$Component.frmId.theButton}');
        // alert(ele);
        // ele.click();
         return false;
      }
      else
      {
         return true;
      }
   }
</script>
 <body>
        
        <apex:form id="frmId">
        <aside id="left-panel" class="left-panel" >
        <c:Flame_SideMenuBar />
        </aside>
        <div id="right-panel" class="right-panel">  
        <c:Flame_HeaderBar />
        <!-- Header-->                                
        <!--Main container -->                
        <!-- Header-->
        <div class="content mt-3">                                                         
       <div class="col-lg-12"> 
       <!-- <div class="assist-content-area"> 
        <div class="services-content" style="padding-bottom:75px;"> -->
        <!---------------------------------------------------------->
         <div style="padding-left:150px; !important;">
        <table  class="table table-border table-condensed col-md-12" id="contacttable"   width="100%">
        <tbody>
        <tr >
        <td >
         <apex:actionRegion >
         <apex:actionFunction name="toggleButton" rerender="theBlock"/>
        <apex:inputText styleClass="slds-input" id="txt" html-placeholder="Search Knowledge article" value="{!searchString}" onkeyup="toggleButton()"   >
        </apex:inputText>   </apex:actionRegion>                                                         
        </td>
        
        <td >
        <apex:outputPanel id="theBlock">
        <apex:commandButton styleClass="slds-button slds-button_brand" value="Search" action="{!searchKnowledge}" reRender="outpanelID,outMsgID,pbId,sts,frmId" disabled="{!OR(ISBLANK(searchString), '' == searchString)}" id="theButton" status="statusSaveTrip" />
        <apex:actionStatus id="statusSaveTrip" stopText="">
        <apex:facet name="start">
        <div style="margin: 7px 0px 0px -980px;">
         <p align="center" style='{font-family:"Arial", Helvetica, sans-serif; font-size:20px;}'><img id="status" src="/img/loading.gif" alt="Loading..." title="Loading..."/></p>
        </div>
         </apex:facet>
        </apex:actionStatus>
        </apex:outputPanel>
        </td>
       
        </tr>
        </tbody>
        </table>
       </div>
        
        
        <apex:outputPanel id="outpanelID">
        <apex:outputText rendered="{!showMessage}"><center> <h4 style="font-size: 1.0rem;"> No Record founds  </h4></center></apex:outputText>
        
        <apex:outputPanel rendered="{!if(articleList.size>0,true,false)}" id="pbId" >
        <table id="contacttable" class="table table-striped table-bordered "  width="100%">
        <thead>
        <tr >
        <th style="font-size: 13px;width:20px;" scope="col">Article Number</th>
        <th style="font-size: 13px;width:60px;" scope="col">Title</th> 
        <th style="font-size: 13px;width:20px;" scope="col">Published Date</th>              
        </tr>
        </thead>
        <apex:repeat value="{!articleList}" var="objK">
        <tbody>
        
        <td> <apex:commandLink value="{!objK.ArticleNumber}" action="{!NewKnowledgePage}"  >  
        <apex:param name="{!objK.id}" value="{!objK.id}" assignTo="{!editId}"/>
        </apex:commandLink>                                    </td>
        <td><apex:outputField value="{!objK.title}" /></td>
        <td><apex:outputField value="{!objK.LastPublishedDate}" /></td>
        </tbody>
        </apex:repeat>
        </table> 
        </apex:outputPanel>
        
        </apex:outputPanel> 
        
        
        
        
        <!---------------------------------------------------------->
        
        
        
        
        </div>       
        </div>   
         </div>              
     <!--  </div> 
        </div> -->
        </apex:form>
  </body>
  <script type="text/javascript">
    $(document).ready(function(){
       $(".flm_assist_ele").addClass("active");
       $(".flm_assist_ele").addClass("show");
       $(".flm_assist_ele > .sub-menu").addClass("show");
       $(".flm_assistKnowledge_ele").addClass("active");

       $(".flm_menu").click(function(){
            $(".flm_menu").removeClass("show");
            $(".flm_menu > .sub-menu").removeClass("show");
            
       })
    });
</script> 
</apex:page>